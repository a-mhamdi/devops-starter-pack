<svg xmlns="http://www.w3.org/2000/svg" width="900" height="360" viewBox="0 0 900 360">
  <!-- Background -->
  <rect x="0" y="0" width="900" height="360" fill="#121212"/>

  <!-- Title -->
  <text x="450" y="28" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="22"
        font-weight="bold"
        fill="#f5f5f5">
    Docker Image Layers
  </text>
  <text x="450" y="48" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        fill="#bbbbbb">
    Each Dockerfile instruction creates a new, stacked layer in the image
  </text>

  <!-- Left: Dockerfile panel -->
  <rect x="60" y="80" width="310" height="240" rx="12" ry="12"
        fill="#0b1120" stroke="#4b5563" stroke-width="2"/>
  <text x="80" y="104"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#e5e5e5">
    Dockerfile
  </text>

  <!-- Dockerfile lines -->
  <text x="80" y="134"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#93c5fd">
    FROM
  </text>
  <text x="140" y="134"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#e5e5e5">
    node:20-alpine
  </text>

  <text x="80" y="160"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#c4b5fd">
    WORKDIR
  </text>
  <text x="160" y="160"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#e5e5e5">
    /app
  </text>

  <text x="80" y="186"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#fed7aa">
    COPY
  </text>
  <text x="140" y="186"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#e5e5e5">
    package*.json ./
  </text>

  <text x="80" y="212"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#6ee7b7">
    RUN
  </text>
  <text x="120" y="212"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#e5e5e5">
    npm install
  </text>

  <text x="80" y="238"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#7dd3fc">
    COPY
  </text>
  <text x="140" y="238"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#e5e5e5">
    . .
  </text>

  <text x="80" y="264"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#fef9c3">
    EXPOSE
  </text>
  <text x="150" y="264"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#e5e5e5">
    3000
  </text>

  <text x="80" y="290"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#fecdd3">
    CMD
  </text>
  <text x="120" y="290"
        font-family="Consolas, monospace"
        font-size="13"
        fill="#e5e5e5">
    ["npm", "start"]
  </text>

  <!-- Arrow from Dockerfile to image -->
  <line x1="380" y1="200" x2="440" y2="200" stroke="#e5e5e5" stroke-width="2.5"/>
  <polygon points="440,200 432,195 432,205" fill="#e5e5e5"/>
  <text x="410" y="186" text-anchor="middle"
        font-family="Consolas, monospace"
        font-size="12"
        fill="#d1d5db">
    docker build
  </text>

  <!-- Right: Image layers stack -->
  <rect x="470" y="80" width="370" height="240" rx="12" ry="12"
        fill="#020617" stroke="#4b5563" stroke-width="2"/>
  <text x="485" y="104"
        font-family="Arial, sans-serif"
        font-size="14"
        font-weight="bold"
        fill="#e5e5e5">
    Resulting Docker Image
  </text>
  <text x="485" y="122"
        font-family="Arial, sans-serif"
        font-size="11"
        fill="#9ca3af">
    Built as a stack of immutable layers
  </text>

  <!-- Layers (bottom to top) -->
  <!-- Base image (FROM) -->
  <rect x="495" y="268" width="320" height="36" rx="6" ry="6"
        fill="#0f172a" stroke="#3b82f6" stroke-width="2"/>
  <text x="655" y="290" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="13"
        font-weight="bold"
        fill="#e5e5e5">
    Layer 1: Base image (FROM node:20-alpine)
  </text>

  <!-- WORKDIR layer -->
  <rect x="505" y="236" width="300" height="32" rx="6" ry="6"
        fill="#111827" stroke="#8b5cf6" stroke-width="1.8"/>
  <text x="655" y="256" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        fill="#e5e5e5">
    Layer 2: WORKDIR /app
  </text>

  <!-- COPY package*.json -->
  <rect x="515" y="206" width="280" height="30" rx="6" ry="6"
        fill="#1f2933" stroke="#fb923c" stroke-width="1.8"/>
  <text x="655" y="224" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        fill="#e5e5e5">
    Layer 3: COPY package*.json ./
  </text>

  <!-- RUN npm install -->
  <rect x="525" y="178" width="260" height="28" rx="6" ry="6"
        fill="#052e16" stroke="#22c55e" stroke-width="1.8"/>
  <text x="655" y="196" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        fill="#e5e5e5">
    Layer 4: RUN npm install
  </text>

  <!-- COPY . . -->
  <rect x="535" y="152" width="240" height="26" rx="6" ry="6"
        fill="#0f172a" stroke="#38bdf8" stroke-width="1.8"/>
  <text x="655" y="169" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="12"
        fill="#e5e5e5">
    Layer 5: COPY . .
  </text>

  <!-- EXPOSE + CMD combined as metadata/top -->
  <rect x="545" y="126" width="220" height="24" rx="6" ry="6"
        fill="#1f2937" stroke="#facc15" stroke-width="1.8"/>
  <text x="655" y="142" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="11"
        fill="#e5e5e5">
    Layer 6: EXPOSE 3000, CMD ["npm", "start"]
  </text>

  <!-- Side caption -->
  <text x="655" y="320" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="11"
        fill="#6b7280">
    Higher layers depend on lower ones; unchanged layers are reused between builds.
  </text>
</svg>
