<svg viewBox="0 0 1000 650" xmlns="http://www.w3.org/2000/svg">
  <!-- Define styles -->
  <defs>
    <style>
      .box { fill: #fff; stroke: #333; stroke-width: 2; }
      .prometheus { fill: #e6522c; }
      .alertmanager { fill: #ff5722; }
      .rules { fill: #4a90e2; }
      .notification { fill: #9c27b0; }
      .feature { fill: #7cb342; }
      .text { fill: #333; font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; }
      .title { font-size: 16px; font-weight: bold; }
      .arrow { fill: none; stroke: #666; stroke-width: 2; marker-end: url(#arrowhead); }
      .label { font-size: 11px; fill: #666; }
      .code { font-family: 'Courier New', monospace; font-size: 11px; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="500" y="35" class="text title" style="font-size: 26px; fill: #ff5722;">Prometheus Alerting</text>
  <text x="500" y="60" class="text" style="font-size: 15px;">Alert management through Alertmanager</text>
  
  <!-- Step 1: Alert Rules -->
  <rect x="50" y="120" width="200" height="100" class="box rules" rx="8"/>
  <text x="150" y="145" class="text title" fill="#fff">1. Alert Rules</text>
  <text x="150" y="170" class="text code" fill="#fff" style="font-size: 10px;">alert: HighErrorRate</text>
  <text x="150" y="188" class="text code" fill="#fff" style="font-size: 10px;">expr: job:request_errors</text>
  <text x="150" y="206" class="text code" fill="#fff" style="font-size: 10px;">> 0.05</text>
  
  <!-- Step 2: Prometheus Server -->
  <rect x="310" y="120" width="200" height="100" class="box prometheus" rx="8"/>
  <text x="410" y="145" class="text title" fill="#fff">2. Prometheus</text>
  <text x="410" y="170" class="text" fill="#fff" style="font-size: 12px;">Evaluates rules</text>
  <text x="410" y="190" class="text" fill="#fff" style="font-size: 12px;">every 15-60 seconds</text>
  <text x="410" y="210" class="text" fill="#fff" style="font-size: 12px;">Fires matching alerts</text>
  
  <!-- Step 3: Alertmanager -->
  <rect x="570" y="120" width="200" height="100" class="box alertmanager" rx="8"/>
  <text x="670" y="145" class="text title" fill="#fff">3. Alertmanager</text>
  <text x="670" y="170" class="text" fill="#fff" style="font-size: 12px;">Receives alerts</text>
  <text x="670" y="190" class="text" fill="#fff" style="font-size: 12px;">Groups & deduplicates</text>
  <text x="670" y="210" class="text" fill="#fff" style="font-size: 12px;">Routes to receivers</text>
  
  <!-- Alertmanager Features -->
  <text x="500" y="270" class="text title" style="font-size: 18px;">Alertmanager Capabilities</text>
  
  <g id="features">
    <!-- Grouping -->
    <rect x="80" y="300" width="180" height="80" class="box feature" rx="5"/>
    <text x="170" y="325" class="text title" fill="#fff">Grouping</text>
    <text x="170" y="348" class="text" fill="#fff" style="font-size: 11px;">Combines similar alerts</text>
    <text x="170" y="365" class="text" fill="#fff" style="font-size: 11px;">into single notification</text>
    
    <!-- Inhibition -->
    <rect x="280" y="300" width="180" height="80" class="box feature" rx="5"/>
    <text x="370" y="325" class="text title" fill="#fff">Inhibition</text>
    <text x="370" y="348" class="text" fill="#fff" style="font-size: 11px;">Suppresses alerts when</text>
    <text x="370" y="365" class="text" fill="#fff" style="font-size: 11px;">related alerts are firing</text>
    
    <!-- Silencing -->
    <rect x="480" y="300" width="180" height="80" class="box feature" rx="5"/>
    <text x="570" y="325" class="text title" fill="#fff">Silencing</text>
    <text x="570" y="348" class="text" fill="#fff" style="font-size: 11px;">Mutes alerts during</text>
    <text x="570" y="365" class="text" fill="#fff" style="font-size: 11px;">maintenance windows</text>
    
    <!-- Routing -->
    <rect x="680" y="300" width="180" height="80" class="box feature" rx="5"/>
    <text x="770" y="325" class="text title" fill="#fff">Routing</text>
    <text x="770" y="348" class="text" fill="#fff" style="font-size: 11px;">Sends to different teams</text>
    <text x="770" y="365" class="text" fill="#fff" style="font-size: 11px;">based on labels</text>
  </g>
  
  <!-- Notification Channels -->
  <text x="500" y="430" class="text title" style="font-size: 18px;">Notification Channels</text>
  
  <g id="notifications">
    <!-- Email -->
    <rect x="80" y="460" width="130" height="70" class="box notification" rx="5"/>
    <text x="145" y="485" class="text title" fill="#fff">Email</text>
    <text x="145" y="508" class="text" fill="#fff" style="font-size: 11px;">SMTP</text>
    
    <!-- Slack -->
    <rect x="230" y="460" width="130" height="70" class="box notification" rx="5"/>
    <text x="295" y="485" class="text title" fill="#fff">Slack</text>
    <text x="295" y="508" class="text" fill="#fff" style="font-size: 11px;">Webhook</text>
    
    <!-- PagerDuty -->
    <rect x="380" y="460" width="130" height="70" class="box notification" rx="5"/>
    <text x="445" y="485" class="text title" fill="#fff">PagerDuty</text>
    <text x="445" y="508" class="text" fill="#fff" style="font-size: 11px;">API Integration</text>
    
    <!-- Webhook -->
    <rect x="530" y="460" width="130" height="70" class="box notification" rx="5"/>
    <text x="595" y="485" class="text title" fill="#fff">Webhook</text>
    <text x="595" y="508" class="text" fill="#fff" style="font-size: 11px;">Custom HTTP</text>
    
    <!-- OpsGenie -->
    <rect x="680" y="460" width="130" height="70" class="box notification" rx="5"/>
    <text x="745" y="485" class="text title" fill="#fff">OpsGenie</text>
    <text x="745" y="508" class="text" fill="#fff" style="font-size: 11px;">API Integration</text>
  </g>
  
  <!-- Alert Flow Example -->
  <rect x="100" y="570" width="800" height="60" class="box" fill="#f5f5f5" rx="5"/>
  <text x="500" y="593" class="text title" style="font-size: 13px;">Alert Flow Example</text>
  <text x="500" y="613" class="text" style="font-size: 11px;">Metric exceeds threshold → Prometheus fires alert → Alertmanager groups & routes → Notification sent to on-call team</text>
  
  <!-- Arrows showing flow -->
  <path d="M 250 170 Q 270 170 290 170 T 310 170" class="arrow"/>
  <text x="280" y="165" class="label">sends rules</text>
  
  <path d="M 510 170 Q 530 170 550 170 T 570 170" class="arrow"/>
  <text x="540" y="165" class="label">fires alerts</text>
  
  <path d="M 670 220 Q 670 240 670 260 T 670 280" class="arrow"/>
  <text x="700" y="250" class="label">processes</text>
  
  <path d="M 170 380 Q 170 405 170 430 T 145 460" class="arrow"/>
  <path d="M 370 380 Q 340 405 320 430 T 295 460" class="arrow"/>
  <path d="M 570 380 Q 520 405 480 430 T 445 460" class="arrow"/>
  <path d="M 770 380 Q 720 405 670 430 T 595 460" class="arrow"/>
  
  <text x="400" y="420" class="label">routes to</text>
</svg>
